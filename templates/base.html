<!DOCTYPE html>

{% from "macros/navbar.html" import dropdown_item %}
{% from "macros/navbar.html" import dropdown_header %}
{% from "macros/navbar.html" import nav_item %}
{% from "macros/ul_macros.html" import ul_block %}
{% from "macros/ul_macros.html" import ul_form %}
{% from "macros/ul_macros.html" import ul_expandable_form %}
{% from "macros/common.html" import labeled_input %}
{% from "macros/common.html" import label_group %}
{% from "macros/common.html" import render_labeled_fields %}

<html lang="en" data-bs-theme="dark">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}LITTERBOX Manager{% endblock %}</title>
    <link rel="icon" href="data:image/svg+xml,%3Csvg width='256px' height='256px' viewBox='0 0 320.00 320.00' fill='none' xmlns='http://www.w3.org/2000/svg' stroke='%23feffff' transform='matrix(1%2C 0%2C 0%2C 1%2C 0%2C 0)'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M101.642 36.2968C64.2347 32.8015 25.2498 60.5907 20.5038 97.7968C19.5014 105.654 19.9918 115.923 22.3371 127.264L144.223 78.5L156.268 83.4946C154.754 75.0107 152.5 65.9008 147.219 59.2968C134.817 43.7867 121.435 38.1463 101.642 36.2968ZM180.13 93.3898L289.838 138.883C289.924 137.565 289.962 136.364 289.962 135.297C289.962 111.195 286.456 96.2094 268.926 83.2968C249.003 68.6206 219.341 62.7968 198.306 75.7968C190.581 80.5712 184.861 87.366 180.13 93.3898Z' fill='%23feffff'%2F%3E%3Cpath d='M13 131V218.336C13 218.739 13.2409 219.102 13.6114 219.258L164.758 283M13 131L65.0886 155.906M13 131L66.5911 109.559L136.71 81.5057L144.223 78.5M164.758 283L306.41 219.265C306.769 219.104 307 218.747 307 218.353V146M164.758 283L167.763 205M307 146L144.223 78.5M307 146L274.414 159.801C274.119 159.926 273.901 160.185 273.83 160.498L271.196 172M144.223 78.5V121.84M167.763 205L203.958 189.863C204.446 189.659 205.008 189.87 205.241 190.345L216.935 214.16C217.167 214.632 217.726 214.844 218.213 214.644L265.452 195.197C265.752 195.073 265.973 194.812 266.046 194.495L271.196 172M167.763 205L135.347 189.5M65.0886 155.906C65.0886 155.906 64.2902 136.413 72.6014 136C77.5934 135.752 79.1893 140.689 84.121 141.5C92.859 142.938 95.1397 128 102.152 131C104.248 131.897 103.517 135.417 105.157 137C111.399 143.029 115.174 121.5 123.187 123C126.92 123.699 125.945 128.924 129.698 129.5C135.275 130.357 139.383 122.776 144.223 121.84M65.0886 155.906L85.6235 165.725M271.196 172C271.196 172 263.927 168 252.908 171C247.11 172.579 252.081 152.596 243.392 151.5C238.612 150.897 236.514 157.193 231.872 155.906C226.172 154.326 228.867 145.5 224.86 142.5C219.36 138.382 207.237 152.443 200.319 146C196.6 142.537 200.359 135.77 195.811 133.5C190.802 131 174.775 143.5 169.767 136C167.597 132.751 171.188 129.095 168.264 126.5C163.756 122.5 158.247 133.5 151.736 131C147.868 129.515 150.659 123.308 146.727 122C145.865 121.713 145.034 121.683 144.223 121.84M106.158 155.906C106.158 155.906 111.425 143.082 116.676 145.5C119.341 146.727 121.184 151.5 121.184 151.5M134.206 163C134.206 163 138.052 155.551 142.22 155.906C146.965 156.31 139.716 166.188 145.225 164.594C150.734 163 155.242 154 160.751 158.5M155.242 177C155.242 177 165.127 172.888 167.763 177C169.45 179.631 167.763 185 167.763 185M184.291 170C184.291 170 192.342 159.044 195.811 163C198.13 165.645 195.811 172 195.811 172M217.848 173.5C222.49 168.96 226.864 174 230.871 168.5M226.864 195C226.864 195 225.338 186.856 228.867 185C232.505 183.086 234.735 191.394 238.383 189.5C241.512 187.876 238.167 182.431 241.388 181C244.746 179.509 249.903 185 249.903 185M24.0187 196.5V205M40.046 202V205M30.029 210.5L31.5315 216.5M155.242 215V219M145.225 223V228M178.281 265.5L184.291 262.5M289.47 166.5L295.48 163M295.48 172V179' stroke='%23feffff' stroke-width='12.16' stroke-linecap='round'%2F%3E%3C%2Fsvg%3E" type="image/svg+xml">
    {% block head_extra %}{% endblock %}
</head>
<body>
<nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="container-fluid">
        <a class="navbar-brand" href="{{ url_for('landing_page') }}">
            <img src="{{ url_for('static', filename='images/litterbox.svg') }}" alt="Cat Icon" width="30" height="24" class="d-inline-block align-text-top">
            LITTERBOX
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto">
                <li class="nav-item dropdown">
                    {{  dropdown_header("Ansible") }}
                    <ul class="dropdown-menu">
                        {{ dropdown_item("Host Provisioner", "ansible.hosts") }}
                        {{ dropdown_item("Role Provisioner", "ansible.roles") }}
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    {{  dropdown_header("Config") }}
                    <ul class="dropdown-menu">
                        {{ dropdown_item("Ansible Inventory", "json_editor.index", { "type": "ansible_inventory" }) }}
                        {{ dropdown_item("Ansible Sites", "json_editor.index", { "type": "ansible_site" }) }}
                        {{ dropdown_item("Applications", "json_editor.index", { "type": "applications" }) }}
                        {{ dropdown_item("Overview Mapping", "json_editor.index", { "type": "overview" }) }}
                        {{ dropdown_item("Unified Mapping", "json_editor.index", { "type": "unified" }) }}
                    </ul>
                </li>
                {{ nav_item("Git", "git_manager.index") }}
                <li class="nav-item dropdown">
                    {{  dropdown_header("Jinja") }}
                    <ul class="dropdown-menu">
                        {{ dropdown_item("Generated", "jinja.generated") }}
                        {{ dropdown_item("Resolver", "jinja.resolver") }}
                        {{ dropdown_item("Template Editor", "jinja.editor") }}
                    </ul>
                </li>
                {{ nav_item("Registry", "registry.index") }}
                <li class="nav-item dropdown">
                    {{  dropdown_header("Setup") }}
                    <ul class="dropdown-menu">
                        {{ dropdown_item("Logging", "setup.logging_config") }}
                    </ul>
                </li>
            </ul>
            <ul class="navbar-nav">
                <li class="nav-item">
                    <span class="navbar-text pad-1">
                        {{ username }}
                    </span>
                </li>
            </ul>
        </div>
    </div>
</nav>


<div class="container mt-3">

    {% block content %}
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div>
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category }}" role="alert">
                            {{ message }}
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}
    {% endblock %}
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
{% block script %}{% endblock %}
</body>
</html>
